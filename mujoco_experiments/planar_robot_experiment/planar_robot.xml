<mujoco model="planar_robot">
    <compiler angle="degree"/>
    
    <option timestep="0.001" iterations="50" solver="Newton" jacobian="sparse" cone="elliptic" tolerance="1e-10"/>

    <size njmax="5000" nconmax="2000" nstack="5000000"/>

    <default>
        <geom rgba=".8 .6 .4 1"/>
        <!--<default class="object">
            <geom type="box" material="MatObj" rgba=".9 .1 .1 1" size="0.12 0.12 0.12"/>
        </default>-->
        
        <default class="object">
            <geom type="sphere" material="MatObj" rgba=".9 .1 .1 1" size="0.15"/>
        </default>
        
        <default class="obj_label">
            <geom type="box" material="MatObj" rgba="1 0 0 1" size="0.05 0.05 0.001"/>
        </default>
                
        <default class="target_label">
            <geom type="box" material="MatObj" rgba=".4 .9 .9 1" size="0.05 0.05 0.001"/>
        </default>
        
        <default class="border">
            <geom type="capsule" size="0.1" rgba=".4 .4 .4 1"/>
        </default>

        <default class="borderpost">
            <geom type="box" size="0.11 0.11 0.11" rgba=".55 .55 .55 1"/>
        </default>
    </default>
    <asset>
        <texture type="skybox" builtin="gradient" width="128" height="128" rgb1=".4 .6 .8" rgb2="0 0 0"/>  
        <texture name="texplane" type="2d" builtin="checker" rgb1=".2 .3 .4" rgb2=".1 0.15 0.2" width="512" height="512"/>  
        <texture name="texgeom" type="cube" builtin="flat" mark="cross" width="128" height="128" rgb1="0.6 0.6 0.6" rgb2="0.6 0.6 0.6" markrgb="1 1 1"/>  
        <material name='MatObj' texture="texgeom" texuniform="true"/>
        <material name='MatPlane' reflectance='0' texture="texplane" texrepeat="1 1" texuniform="true"/>
    </asset>
    
    <visual>
        <quality shadowsize="4096" offsamples="8"/>
        <map znear="0.1" force="0.05"/>
    </visual>
    
    <statistic extent="4"/>

    <worldbody>
        <!--light pos="0 1 1" dir="0 -1 -1" diffuse="1 1 1"/>-->
        <light directional="true" diffuse=".8 .8 .8" pos="0 0 10" dir="0 0 -10"/>

        <geom name='floor' pos='0 0 -0.1' size='2 2 .125' type='plane' material="MatPlane" condim='3'/>
    
        <geom class="border" fromto="-2 2 0 2 2 0"  />
        <geom class="border" fromto="-2 -2 0 2 -2 0"  />
        <geom class="border" fromto="2 2 0 2 -2 0"  />
        <geom class="border" fromto="-2 2 0 -2 -2 0"  />
        <geom class="borderpost" pos="2 2 0"/>
        <geom class="borderpost" pos="-2 2 0"/>
        <geom class="borderpost" pos="2 -2 0"/>
        <geom class="borderpost" pos="-2 -2 0"/>
        <geom name="target_pose" class="target_label" pos= "0 -1.5 -0.02" quat="1 0 0 0"/>
        
        <body name="planar_robot">
            <geom type="capsule" fromto="0 0 0 0.6 0 0" size="0.1"/>
            <joint type="hinge" pos="0 0 0" axis="0 0 1"/>
            <body>
                <geom type="capsule" fromto="0.6 0 0 1.2 0 0" size="0.1"/>
                <joint type="hinge" pos="0.6 0 0" axis="0 0 1" range="-120 120" damping='5' stiffness='10' armature='0.01'/>
                <body>
                    <!--
                    <geom type="capsule" fromto="1.2 -0.3 0 1.2 0.3 0" size="0.1"/>
                    <body>
                        <geom type="capsule" fromto="1.2 -0.3 0 1.6 -0.3 0" size="0.1"/>
                        <joint type="hinge" pos="1.2 -0.3 0" axis="0 0 1" range="-30 0" damping='5' stiffness='10' armature='0.01'/>
                    </body>
                    <body>
                        <geom type="capsule" fromto="1.2 0.3 0 1.6 0.3 0" size="0.1"/>
                        <joint type="hinge" pos="1.2 0.3 0" axis="0 0 1" range="0 30" damping='5' stiffness='10' armature='0.01'/>
                    </body>
                    -->
                    <geom type="box" pos="1.2 0 0.0" size="0.08 0.3 0.1"/>
                    <body>
                        <geom type="box" pos="1.5 -0.24 0.0" size="0.24 0.05 0.1"/>
                        <joint type="hinge" pos="1.2 -0.24 0" axis="0 0 1" range="-30 0" damping='5' stiffness='10' armature='0.01'/>
                    </body>
                    <body>
                        <geom type="box" pos="1.5 0.24 0.0" size="0.24 0.05 0.1"/>
                        <joint type="hinge" pos="1.2 0.24 0" axis="0 0 1" range="0 30" damping='5' stiffness='10' armature='0.01'/>
                    </body>
                    
                </body>
            </body>
        </body>
        
        <body name="targetObj" pos="0 1.5 0.2" quat="1 0 0 0">
            <freejoint/>
            <geom class="object"/>
        </body>
        

    </worldbody>
</mujoco>
